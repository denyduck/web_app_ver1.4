{% import "macros_jinja/makra.jinja2" as makra %}

<!doctype html>
<html lang="cs">
  <head>
    <!--importy a meta data stranky-->
    {{ makra.header() }}
    <!--pojmenovani stranky-->
    {{ makra.title("home") }}
  </head>

  <body data-bs-theme="dark">
    <!--navigacni bar bez vyhledavace 'False'-->
    {{ makra.navbar(False) }}

    <!-- Hlavní obsah -->
    <div class="content">


      <div class="container d-flex justify-content-center align-items-center" style="min-height: 40vh;">
        <div class="col-12 col-md-9 col-lg-9 text-center mx-auto">
          <h1 class="custom-heading mb-4">Kniha bezpečnostních listů</h1>
          <p class="col-12  custom-headingfor">Vyhledávej podle názvu látky, označení, klíčového slova...</p>
        </div>
      </div>



      <!-- Vyhledávací sekce -->
<!-- Hlavní vyhledávací formulář -->
<!-- Hlavní vyhledávací formulář -->
<!-- Hlavní vyhledávací formulář -->
<!-- Hlavní vyhledávací formulář -->
<!-- Hlavní vyhledávací formulář -->
<!-- Hlavní vyhledávací formulář -->
<!-- Hlavní vyhledávací formulář -->
    <div class="container">
      <div class="row justify-content-center" style="min-height: 0vh;">
        <div class="col-md-8 col-lg-6 d-flex justify-content-center align-items-center">
          <div class="card mask-custom w-100" style="box-shadow: inset 0 0 5px rgba(0,0,0,0.5);">
            <div class="card-body d-flex flex-column flex-md-row align-items-center justify-content-center">
              <!-- Vstupní pole -->
              <div class="col-12 col-md-9 mb-3 mb-md-0 me-2 position-relative">
                <input class="form-control form-control-lg bg-transparent border-2 border-0"
                       id="searchField"
                       type="search"
                       placeholder="Zadejte hledaný název..."
                       aria-label="Search"
                       style="outline: none; box-shadow: none;"
                       required>
                <div id="suggestions" class="list-group" style="position: absolute; z-index: 1000; width: 100%; display: none;"></div>
              </div>

              <!-- Tlačítko pro spuštění vyhledávání -->
              <div class="col-12 col-md-3">
                <button class="btn btn-light w-100"
                        style="height: 55px; border-radius: 3em; font-size: x-large;"
                        id="searchButton"
                        type="button">Hledat</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Výsledky hledání -->
      <div id="searchResults" class="mt-4">
        {% if results %}
          <ul class="list-group">
            {% for result in results %}
              <li class="list-group-item">
                <a href="/pdfs/{{ result.filename }}" target="_blank">{{ result.filename }}</a>
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <p>Žádné výsledky nenalezeny.</p>
        {% endif %}
      </div>
    </div>

    <script>

    </script>

    <style>
      #suggestions {
        max-height: 200px;
        overflow-y: auto;
        border: 1px solid #ddd;
        background: white;
        border-radius: 4px;
      }

      .list-group-item {
        cursor: pointer;
      }

      /* Zobrazit návrhy, když jsou k dispozici */
      .list-group-item:hover {
        background-color: #f0f0f0;
      }
    </style>

    {{  makra.footer() }}

  </body>